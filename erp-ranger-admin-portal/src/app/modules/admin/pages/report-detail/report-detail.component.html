<!--Report detail page used for displaying more info of current incidents in the reserve-->
<div class="page-container">
  <mat-card class="content-card mat-elevation-z8 animated slideInUp">
    <!--Card container generated only if there are more info to show of an exisitng report-->
    <mat-card-content *ngIf="report&&user">
      <!--Info based on exisiting report selected on the Report Overview screen's map-->
       <!--some string: {{report.location.geopoint.latitude}} -->
        <h1>Type of report: {{ report.type }}</h1>
        <br>
        <h3>Time of report: {{ report.time.toDate() | date:'dd/MM/yyyy @ HH:mm:ss' }} </h3>
        <br>
        <h3>Reported by: {{ user }} </h3>
        <br>
        <h3>Incident: {{ report.report }} </h3>
        <br>
        <h3>Geopoints: Longitude: {{ report.location.geopoint.longitude }} / Latitude: {{ report.location.geopoint.latitude }}</h3>
    </mat-card-content>
      <mat-card-content class="container">
    
            <div class="row">
              <div *ngIf="photo1" class="column">
                <img [src]="photo1" style="width:100%" onclick="openModal();currentSlide(1)" class="hover-shadow cursor">
              </div>
              <div *ngIf="photo2" class="column">
                <img [src]="photo2" style="width:100%" onclick="openModal();currentSlide(2)" class="hover-shadow cursor">
              </div>
              <div *ngIf="photo3" class="column">
                <img [src]="photo3" style="width:100%" onclick="openModal();currentSlide(3)" class="hover-shadow cursor">
              </div>
            </div>
            
            <div id="myModal" class="modal">
              <span class="close cursor" onclick="closeModal()">&times;</span>
              <div class="modal-content">
            
                <div *ngIf="photo2" class="mySlides">
                  <div class="numbertext">1 / 3</div>
                  <img [src]="photo1" style="width:100%">
                </div>
            
                <div *ngIf="photo2" class="mySlides">
                  <div class="numbertext">2 / 3</div>
                  <img [src]="photo2" style="width:100%">
                </div>
            
                <div *ngIf="photo3" class="mySlides">
                  <div class="numbertext">3 / 3</div>
                  <img [src]="photo3" style="width:100%">
                </div>       
                
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            
                <div class="caption-container">
                  <p id="caption"></p>
                </div>
            
            
                <div *ngIf="photo1" class="column">
                  <img class="demo cursor" [src]="photo1" style="width:100%" onclick="currentSlide(1)" alt="Nature and sunrise">
                </div>
                <div *ngIf="photo2" class="column">
                  <img class="demo cursor" [src]="photo2" style="width:100%" onclick="currentSlide(2)" alt="Snow">
                </div>
                <div *ngIf="photo3" class="column">
                  <img class="demo cursor" [src]="photo3" style="width:100%" onclick="currentSlide(3)" alt="Mountains and fjords">
                </div>
              </div>
            </div>
      </mat-card-content>
  </mat-card>
  <mat-card class="content-card mat-elevation-z8 animated slideInUp">
      <mat-card-content *ngIf="report">
        <div class="map-container">
          <app-park-map [center]="report.location.geopoint" [zoom]="zoom" [fixed]="true" [report]="report"></app-park-map>
        </div>
      </mat-card-content>
    </mat-card>
</div>

<script>
  function openModal() {
    document.getElementById("myModal").style.display = "block";
  }
  
  function closeModal() {
    document.getElementById("myModal").style.display = "none";
  }
  
  var slideIndex = 1;
  showSlides(slideIndex);
  
  function plusSlides(n) {
    showSlides(slideIndex += n);
  }
  
  function currentSlide(n) {
    showSlides(slideIndex = n);
  }
  
  function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("demo");
    var captionText = document.getElementById("caption");
    if (n > slides.length) {slideIndex = 1}
    if (n < 1) {slideIndex = slides.length}
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex-1].style.display = "block";
    dots[slideIndex-1].className += " active";
    captionText.innerHTML = dots[slideIndex-1].alt;
  }
  </script>